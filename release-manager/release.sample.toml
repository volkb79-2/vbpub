# Release Manager sample configuration (syntax/spec only).
# Copy into your repo root as release.toml and fill in repo-specific values + secrets.

repo_root = "/path/to/repo"

[github]
username = "your-github-user-or-org"
repo = "your-repo"
token = "ghp_your_token"
# owner_type = "org"

[registry]
url = "ghcr.io"

[env]
# Shared environment variables for build/push steps.
# OCI_DESCRIPTION supports Markdown and can reference an in-image manifest path.
# OCI_VENDOR = "Your Name or Org"
# OCI_TITLE = "your-image-title"
# OCI_DESCRIPTION = """# Your image\n\n## Tool manifest\nSee `/usr/local/share/your-image/manifest.md`.\n"""
# RELEASE_NOTES = """## Release notes\n- Item 1\n"""

[orchestration]
project_order = ["project-a", "project-b"]
default_projects = ["project-a", "project-b"]
default_steps = ["run-tests", "build", "push", "validate"]
execution_mode = "project-first"

[orchestration.step_project_order]
run-tests = ["project-a", "project-b"]
build = ["project-a", "project-b"]
push = ["project-a", "project-b"]
validate = ["project-a", "project-b"]

[cleanup]
release_tag_prefixes = ["*"]
keep_release_tags = []
ghcr_packages = ["*"]

[projects.project-a.steps.run-tests]
commands = [
  { label = "project-a: run tests", argv = ["python3", "run-tests.py"], cwd = "project-a" },
]

[projects.project-a.steps.build]
commands = [
  { label = "project-a: build artifacts", argv = ["python3", "build.py"], cwd = "project-a" },
]

[projects.project-a.steps.push]
commands = [
  { label = "project-a: push artifacts", argv = ["python3", "push.py"], cwd = "project-a" },
]

[projects.project-a.steps.validate]
commands = [
  { label = "project-a: validate", argv = ["python3", "validate.py"], cwd = "project-a" },
]
