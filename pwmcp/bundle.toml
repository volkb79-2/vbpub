project_root = "."
dist_dir = "dist/bundle"
bundle_dir = "bundle"
client_dir = "client"

[wheel]
enabled = true
python_bin = "python3"
project_root = "client"
find_links = "dist/shared"

[archive]
name_template = "pwmcp-stack-bundle-{version}.tar.gz"
version_env = "VERSION"
fallback_env = "BUILD_DATE"

[copy]
files = [
  "ciu.defaults.toml.j2",
  "ciu-global.defaults.toml.j2",
  "docker-compose.yml.j2",
  "docker-compose.manual.yml",
  "README.md",
  ".env.sample",
]
dirs = [
  "docs",
  "reverse-proxy",
]

[release_assets]
bundle_name = "pwmcp-stack-bundle"
notes = "## PWMCP stack bundle\nDeployment bundle for PWMCP ({tag}).\n\n**Includes**\n- Docker Compose templates (server + reverse proxy)\n- CIU defaults (stack + global)\n- Reverse proxy sample config\n- Docs + quickstart\n- Client wheel under dist/client\n\n**Usage**\n1. Extract the tarball\n2. Review README.md for required env values\n3. Run the compose workflow for the server stack"
notes_latest = "## PWMCP stack bundle (latest)\nDeployment bundle for PWMCP (latest).\n\n**Includes**\n- Docker Compose templates (server + reverse proxy)\n- CIU defaults (stack + global)\n- Reverse proxy sample config\n- Docs + quickstart\n- Client wheel under dist/client\n\n**Usage**\n1. Extract the tarball\n2. Review README.md for required env values\n3. Run the compose workflow for the server stack"
legacy_assets = ["pwmcp-stack-bundle-0.1.0.tar.gz"]
